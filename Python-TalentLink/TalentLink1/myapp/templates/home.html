<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TalentLink</title>
<style>
/* --- BODY --- */
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: #f3f4f6;
    color: #1f2937;
}

/* --- HEADER --- */
header {
    text-align: center;
    padding: 60px 20px;
    background: #2563eb;
    color: white;
}
header h1 {
    font-size: 48px;
    margin-bottom: 10px;
}
header p {
    font-size: 20px;
    margin-bottom: 20px;
}

/* --- LOGIN / REGISTER BUTTONS --- */
.auth-buttons a {
    text-decoration: none;
    display: inline-block;
    padding: 12px 24px;
    margin: 0 10px;
    border-radius: 8px;
    font-weight: 600;
    transition: 0.3s;
}
.auth-buttons a.login {
    border: 2px solid white;
    color: white;
    background: transparent;
}
.auth-buttons a.register {
    background: white;
    color: #2563eb;
}
.auth-buttons a:hover {
    opacity: 0.85;
}

/* --- SECTIONS --- */
section {
    max-width: 1200px;
    margin: 50px auto;
    padding: 20px;
}

/* --- SECTION TITLE --- */
section h2 {
    text-align: center;
    margin-bottom: 40px;
    font-size: 28px;
    color: #2563eb;
}

/* --- CARDS GRID --- */
.cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
    margin-bottom: 50px;
}

/* --- INDIVIDUAL CARD --- */
.card {
    background: white;
    padding: 25px 20px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}
.card h3 {
    margin-top: 0;
    color: #2563eb;
    margin-bottom: 15px;
    font-size: 22px;
}
.card ul {
    padding-left: 20px;
}
.card li {
    margin-bottom: 10px;
}
.card.do li::before {
    content: "✔ ";
    color: green;
    font-weight: bold;
}
.card.dont li::before {
    content: "✘ ";
    color: red;
    font-weight: bold;
}

/* --- FOOTER --- */
footer {
    text-align: center;
    padding: 25px;
    font-size: 14px;
    color: #475569;
}

/* --- PROJECTS PREVIEW --- */
#projects-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}
#projects-list .card h3 {
    font-size: 20px;
}
</style>
</head>
<body>

<header>
    <h1>TalentLink</h1>
    <p>Connecting Clients & Freelancers Professionally</p>

    <div class="auth-buttons">
        {% if user.is_authenticated %}
            <span>Welcome, {{ user.username }}</span>
            <a href="{% url 'root_redirect' %}" class="login">Dashboard</a>
            <a href="{% url 'logout' %}" class="register">Logout</a>
        {% else %}
            <a href="{% url 'login' %}" class="login">Login</a>
            <a href="{% url 'register' %}" class="register">Register</a>
        {% endif %}
    </div>
</header>

<!-- CLIENT SECTION -->
<section>
    <h2>Client Guidelines</h2>
    <div class="cards">
        <div class="card">
            <h3>Client – Do</h3>
            <ul class="do">
                <li>Register/login and create company profile</li>
                <li>Post projects with requirements, budget, skills</li>
                <li>Review freelancer proposals and profiles</li>
                <li>Accept/reject proposals and negotiate terms</li>
                <li>Create contracts from accepted proposals</li>
                <li>Communicate via in-app messaging</li>
                <li>Monitor project progress and milestones</li>
                <li>Review/approve deliverables</li>
                <li>Submit ratings and reviews post-completion</li>
                <li>Track project history and rehire freelancers</li>
            </ul>
        </div>
        <div class="card">
            <h3>Client – Don’t</h3>
            <ul class="dont">
                <li>Don’t delay responses after receiving proposals</li>
                <li>Don’t change project requirements without discussion</li>
                <li>Don’t negotiate unfairly or underpay</li>
                <li>Don’t ask freelancers to work outside the platform</li>
                <li>Don’t ignore milestones or approved deliverables</li>
                <li>Don’t delay ratings and project closure</li>
            </ul>
        </div>
    </div>
</section>

<!-- FREELANCER SECTION -->
<section>
    <h2>Freelancer Guidelines</h2>
    <div class="cards">
        <div class="card">
            <h3>Freelancer – Do</h3>
            <ul class="do">
                <li>Create portfolio profile with skills, hourly rate, bio</li>
                <li>Search/filter projects by skills, budget, duration</li>
                <li>Submit customized proposals with cover letters</li>
                <li>Negotiate terms and update proposals if needed</li>
                <li>Accept contracts and track active projects</li>
                <li>Communicate with clients via in-app messaging</li>
                <li>Deliver work according to contract specifications</li>
                <li>Submit final deliverables for approval</li>
                <li>Receive and respond to client reviews</li>
                <li>Update portfolio with completed projects</li>
            </ul>
        </div>
        <div class="card">
            <h3>Freelancer – Don’t</h3>
            <ul class="dont">
                <li>Don’t copy–paste the same proposal everywhere</li>
                <li>Don’t overcommit or promise unrealistic timelines</li>
                <li>Don’t start work without contract confirmation</li>
                <li>Don’t ignore client messages or delay updates</li>
                <li>Don’t submit low-quality or incomplete work</li>
                <li>Don’t argue or behave unprofessionally</li>
                <li>Don’t miss deadlines without informing the client</li>
            </ul>
        </div>
    </div>
</section>

<!-- PROJECTS PREVIEW -->
<section>
    <h2>Recent Projects</h2>
    <div id="projects-list"></div>
</section>

<footer>
    &copy; 2026 TalentLink
</footer>

<script>
async function fetchProjects() {
  try {
    const response = await fetch("http://localhost:8000/api/projects/", {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
        "X-Frontend-Token": "dev-token"
      },
      credentials: "include"
    });
    const data = await response.json();

    if (response.ok) {
      const container = document.getElementById("projects-list");
      container.innerHTML = data.map(p => `
        <div class="card">
          <h3>${p.title}</h3>
          <p>${p.description}</p>
          <p><strong>Budget:</strong> $${p.budget || "N/A"}</p>
          <p><strong>Deadline:</strong> ${p.deadline || "N/A"}</p>
        </div>
      `).join('');
    } else {
      console.error("Error fetching projects:", data);
      alert(data.error || "Unauthorized access");
    }
  } catch (err) {
    console.error("Network error:", err);
  }
}

window.addEventListener("DOMContentLoaded", fetchProjects);
</script>

</body>
</html>
